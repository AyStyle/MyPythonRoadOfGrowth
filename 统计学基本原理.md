## 统计学基本原理：描述统计、总体推断、抽样方法

### 大纲
1. [基础统计](#1)
    1. [描述统计](#1A)
    2. [总体推断](#1B)
    3. [抽样方法](#1C)
    4. [卡方检验](#1D)
    5. [T检验、方差检验](#1E)
    
2. [多指标统计分析](#2)
    1. [相关分析](#2A)
    2. [回归分析](#2B)
    3. [因子/主成分分析](#2C)
    4. [logistic回归](#2D)
    5. [时间序列分析](#2E)
3. [项目案例](#3)
    1. [APP 用户数预测](#3A)

### <a name = "1">1. 基础统计</a>
#### <a name = "1A">1.1 描述统计</a>
##### 1.1.1 统计学的本质和目的
+ 什么是统计分析
   ```text
   也称为数据分析是收集数据、整理分析数据和由数据得出结论的一组概念、原则和方法
   ```
+ 统计分析的目的
    1. 分析历史数据的变化规律，解释历史数据的变化规律
    2. 根据历史数据预测未来
    
+ 统计分析的常用方法
    1. 描述性统计：利用表格、图形或者数值（数值特征）来展示和刻画数据中的信息
    2. 推断性统计：利用样本获得的数据对总体的性质进行估计或者检验。总体的性质通常用概率模型刻画
    
+ 统计学本质
   ```text
   为了了解全体调查对象的倾向，需要以抽样的方式统计性地抽取一部分调查对象，
   然后根据样本中所包含的信息对总体的状况进行估计和推算
   ```

##### 1.1.2 统计学基本概念：4种测量尺度 - 变量测量尺度
1. 名义（定类）尺度
    + 功能：分类
    + 例如：性别 
    
2. 顺序（定序）尺度
    + 功能：分类、排序
    + 例如：年级、喜欢的艺人
     
3. 间隔（定距）尺度
    + 功能：分类、排序、加减
    + 例如：温度
     
4. 比例（定比）尺度
    + 功能：分类、排序、加减、乘除
    + 例如：比率
     
+ 总结：
    1. **定类与定序合称为分类变量；定距与定比合称连续变量**
    2. **分类变量的描述统计方法只能用频次统计，对于连续变量的描述统计方法即可以使用频次统计，又可以使用均值、标准差等统计方法**
    
##### 1.1.3 统计学基本概念： 集中趋势 - 均值、中位数、众数 
1. 均值
    1. 算术平均：也称为加和平均
        + 公式：**算术平均 = 数据的总和 ÷ 数据的个数**
        
    2. 几何平均：也称为相乘平均
        + 公式： **几何平均 = 数据的乘积 ^ 1/n**
        + 注意：**只有数据为正数时才能计算**
        + 用法：在计算销售增长率和价格变动率等的时候使用
        
    3. 调和平均：
        + 公式：**调和平均 = 数据的个数 ÷ 数据的倒数和**
        + 注意：**只有数据为正数时才能计算**
        + 用法：调和平均数可以用在相同距离但速度不同时，平均速度的计算；如一段路程，前半段时速60公里，后半段时速30公里〔两段距离相等〕，则其平均速度为两者的调和平均数时速40公里。
    
    4. 调整平均：也称trim平均，是指从上限值和下限值中去掉一定比例的数据后剩下数据的算术平均
        + 用法：数据的上限和下限相差较大时使用
        
2. 中位数：是指当把数据由小到大排列时位于中间的值
    + 用法：中位数在年收入和储蓄额等集中趋势的度量中被使用。
   
3. 众数：是指在一组数据中出现次数最多的数


<<<<<<< HEAD
##### 1.1.4 统计学基本概念：离散趋势 - 频数分布、标准差、方差、四分位差、百分位数、极差、离差平方和、离散系数
1. 极差：也称为极值，是指一组数据中最大值和最小值的差

2. 标准差：表示各个数据相对于平均值的离散程度 

+ 重点：
    1. **衡量离散趋势，数据离散趋势代表了数据中包含的信息量**
    2. **两组数据的标准差不能直接比较，因为两组数据的数量和均值不同。通常使用离散系数来进行比较，离散系数等于标准差除以均值**

#### <a name = "1B">1.2 总体推断</a>
##### 1.2.1 统计推断理论简介
1. 抽样误差与标准误
2. t分布
3. 参数估计
4. 假设检验

##### 1.2.2 大数定律和中心极限定理
1. 大数定律：样本N越大，样本均值几乎必然等于均值
2. 中心极限定理：当样本量N逐渐趋于无穷大时，N个抽样样本的均值频数，逐渐趋于正态分布

##### 1.2.3 抽样误差与标准误
1. 抽样误差：由个体变异产生的、抽样造成的样本统计量与总体参数的差别。原因：
    + 抽样
    + 个体差异
    
2. 标准误：表示样本统计量抽样误差大小的统计量。计算公式：与标准差计算公式相同，只不过用的是样本数据

+ 标准差与标准误的区别
    + 标准差：
        + 意义：衡量变量值变异程度，标准差越大表示变量值变异程度越大，反之越小。
        + 应用：描述正态分布（近似正态分布）资料的频数分布
    
    + 标准误：
        + 意义：样本均值的变异程度，表示抽样误差的大小。标准误越大表示抽样误差越大，样本均值的可靠性越小；标准误越小表示抽样误差越小，样本值的可靠性越大。
        + 应用：总体均值区间估计；两个或多个总体均值之间比较

##### 1.2.4 t分布
+ **t分布只有一个参数，即自由度v。当自由度不同时，曲线的形状不同；当自由度趋向于无穷大时，t分布趋近标准正态分布**

+ t分布特征：
    + 单峰分布，以O为中心，左右对称。
    + 自由度v越小，则t值越分散，峰值越矮而尾部越翘。
    + 当v越大，越接近正态分布
    
+ Z值转换公式：
    ```text
    用来将t分布转换为(0, 1)的z分布，又称为标准化，或者叫Z值标准化。
    Z = （X - μ）/ σ，其中X代表样本均值，μ代表总体均值，σ代表总体标准差。
    Z转换用于判断哪些数值为异常值，Z值绝对值大于3为异常值，大于5为极端值
    ```
    
##### 1.2.5 参数估计
+ 定义：用样本统计量推断总体参数

+ 点估计：用相应样本统计量直接作为总体参数的估计值
+ 区间估计：按预先给定的概率所确定的包含未知总体参数的一个范围
+ 注意：
    1. 样本量较小，按t分布估计；样本量较大，按Z分布估计。
    2. 优先使用总体标准差，总体标准差未知的情况下使用样本标准差Git
     
 
##### 1.2.6 假设检验
+ 假设检验的目的：判断总体与样本量的差异是哪一种原因导致的

+ 假设检验思想和步骤
    + 基本思想：小概率反证法
        ```text
        利用小概率反证法思想，从问题对立面（H0）出发间接判断要解决的问题（H1）是否成立。
        然后在H0成立的条件下计算检验统计量，最后得到P值来判断。当P值小于预先设定的显著性水平α时，就属于小概率事件。
        根据小概率事件的原理：小概率事件在一次抽样中发生的可能性很小，如果发生了，则：有理由怀疑原假设H0，认为其对立面H1是成立的。
        ```
    
    + 步骤：
        1. 建立假设检验（H0、H1），确定显著性水平。H0通常是定义为两个变量之间不存在差异/相关性; H1定义为两个变量之间存在差异/相关性
        2. 根据变量类型、统计推断的目的、是否满足特定条件等选择相应的检验统计量（t值、F值、Z值、卡方值）
        3. 对比P值与显著性水平α 。当P < 0.05，则：拒绝原假设H0，接受备着假设H1；反之，P > 0.05，则：接受原假设H0，拒绝备注假设H1
        
+ 假设检验基本概念：
    1. 第一类错误：原假设H0正确，而检验结果把它否定了，叫做弃真错误。    
    2. 第二类错误：原假设H0不正确，而检验结果把它肯定了，叫做取伪错误。    
    3. 显著性水平α：犯第一类错误的最大概率    
    
+ 假设检验注意事项：
    1. 假设检验是针对总体而言，而不是针对样本
    2. H0和H1是相互联系，对立存在，二者缺一不可 
    3. H1直接反映了检验的单双侧，需要考虑有无差异还是差异的方向
    4. 双侧检验较为保守，是否定位单侧检验需要结合专业知识来判断    
    
#### <a name = "1C">1.3 抽样方法</a>
##### 1.3.1 抽样的概念和意义
+ 抽样的概念：指在不能进行全数调查时，为了推测总体的倾向，用抽取的部分数据代替总体数据的过程

+ 抽样方法：
    + 有调查对象总体清单
    
        |抽取样本量|调查的总体规模|抽样方法|
        |:---:|:---:|:---:|
        |小|可对全体调查对象进行编号|简单随机抽样|
        |大|可对全体调查对象进行编号|系统抽样|
        |大|不可对全体调查对象进行编号|改了与规划成比例二级抽样、分层二级抽样等其他概率抽样方法|
        
    + 没有调查对象总体清单
        
        |调查对象|抽样方法|
        |:---:|:---:|
        |通过住宅地图抽样|区域抽样（醉步）|
        |接头、到场者抽样|时间抽样|
        |造电话号码抽样|随机号码等抽样|
    

##### 1.3.2 抽样误差和非抽样误差
+ 抽样调查特点：
    1. 抽样调查花费较少
    2. 迅速地获取信息
    3. 争取时效是非常重要的
    4. 总体太大，实际上无法实行普查
    5. 个别对象难以接触
    6. 科学的抽样————样本具有代表性，可控制抽样误差

+ 普查特点：
    1. 总体较小
    2. 总体差异（方差）较大
    3. 抽样误差较大
    
+ 误差：
    + 抽样误差：抽取样本值跟总体值的差异叫做抽样误差（可控制）
    + 非抽样误差：
           1. 非抽样误差是指除抽样误差外，由于人为的差错引起的误差，也叫偏差
           2. 问题的定义、处理问题的途径、量表问卷中问题的设计、访问的方法、实施的质量控制、数据处理和分析的失当都会造成非抽样误差
           3. 非抽样误差包括研究员、访问员、被访者三方面的误差
           4. 为确保调查结果的准确性，应该消除非抽样误差，至少应尽可能使之最小化

+ 非抽样调查

##### 1.3.3 抽样过程及相关概念
+ 两个基本原则：
    1. 实现抽样的随机性原则 - 等概率和不等概率，优先使用等概率
    2. 实现抽样效果最佳原则 - 固定费用，抽样误差最小；确定精度下，调查费用最小

+ 抽样单元：为了遍历地实现随机抽样，常常把总体划分为有限个互不重叠的部分，每个部分叫做一个抽样单元。

+ 抽样框：抽样框是包含全部抽样单元的资料

##### 1.3.4 抽样样式与非概率抽样
+ 概率抽样：
    1. 等概率抽样：所有的样本单位所出现的机会是相同的。
    2. 不等概率抽样：可以计算每个样本单位所出现的概率。
    3. 按照随机/概率规律的原则，从总体中抽取样本。可以对总体进行推断。
    
+ 非概率抽样：
    1. 所有的样本单位所出现的机会是不确定的
    2. 不能计算每个样本单位所出现的概率，因为选择样本的方法是非随机的。
        + 方便抽样：利用问卷、街头抽样
        + 判断抽样：依据研究者主观判断，选取可代表总体的个体作为样本
        + 配额抽样：按照调查对象的某种属性或特征，将总体中所有个体分类，然后按照一定比例分别抽取样本。
        + 滚雪球抽样：又称裙带抽样、推荐抽样，是一种在稀疏总体中寻找受访者的抽样方法


##### 1.3.5 简单随机抽样和系统抽样
+ 定义：简单随机抽样和系统抽样方法是指对所有调查对象编上一连串的号码，据此从名册中进行随机抽样的方法。

+ 场景：当研究总体不太大或总体单元的元素有完备的名单时，简单随机抽样非常使用

+ 系统抽样：系统抽样方法先求出抽样间隔值，然后随机一个起始号码，接着根据间隔取下一个样本，直到抽样完成

##### 1.3.6 PPS抽样
```text
抽样单位在2个以上时的抽样方法，通过缩小区域和调查对象的范围，从大规模的总体中高效率地进行抽样。
它是一种使用辅助信息，从而使每个单位均有按其规模大小成比例的被抽中的一种抽样方法。
    
PPS抽样实际上是整群抽样与简单随机抽样或系统抽样（等距抽样）配合的两阶段抽样。

PPS抽样是指按概率比例抽样，属于概率抽样的一种。初级抽样单位被抽中的几率取决于其初级抽样单位的规模大小。
```

##### 1.3.7 分层抽样
+ 分层原则：层内差异小，层间差异大

+ 优点：
    + 子总体内的抽样单元之间差异比较小，子样本具有较好的均匀性，可能得到较高精度的估计量
    + 有效消除特殊个体的影响
    + 可对各层的特性加以比较
    + 实施管理方便

##### 1.3.8 区域抽样、时间抽样和随机电话号码抽样
+ 区域抽样：用住宅地图来抽样
+ 时间抽样：按时间间隔对行人进行抽样
+ 随机电话号码抽样：随机数造出电话号码抽样


#### <a name = "1D">1.4 卡方检验</a>
##### 1.4.1 非参数检验基本介绍
```text
在总体分布未知或知之甚少的情况下，利用样本数据对总体分布形态等进行推断的方法。
由于非参数检验方法在推断过程中不涉及有关总体分布的参数，因而得名为“非参数”检验
```

##### 1.4.2 常见的单样本非参检验方法
+ 卡方检验：检验所有类别是否包含相同频率或用户指定比例一致
+ 二项式检验：检验二分类变量（0,1）两个类别的观察频率与指定概率参数的二项式分布下的期望频率是否一致
+ K-S检验：将变量的观察累计分布函数与指定的理论分布进行比较，该理论分布可以是正态分布、均匀分布、泊松分布或指数分布。
+ 游程检验：检验某一变量的两个值出现顺序是否随机。游程是相似的观察值的一个序列。游程太多或太少的样本都不是随机样本。
+ 独立样本非参检验：Mann-WhitneyU（二样本）、Kolmogorov-Smirnov（二样本）、Kruskal-Wallis单因素ANOVA（K样本）
+ 配对样本非参检验：McNemar检验（二样本）、Cochran的Q检验
+ **交叉检验：主要是用在两个分类变量之间的相关性检验中**




#### <a name = "1E">1.5 T检验、方差检验</a>


    
    
    
    
### <a name = "2">2. 多指标统计分析</a>
#### <a name = "2A">1. 相关分析</a>
#### <a name = "2B">2. 回归分析</a>
#### <a name = "2C">3. 因子/主成分分析</a>
#### <a name = "2D">4. logistic回归</a>
#### <a name = "2E">5. 时间序列分析</a>

### <a name = "3">3. 项目案例</a>
#### <a name = "3A">1. APP 用户数预测</a> 
    
 
    
